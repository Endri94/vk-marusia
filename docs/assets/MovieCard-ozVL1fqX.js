import{R as g,c as k,r as l,k as n,j as t,n as x}from"./index-DG8pPokp.js";const C=(a,e)=>a.movie.id===e.movie.id&&a.variant===e.variant&&a.index===e.index&&a.onRemove===e.onRemove,v=g.memo(({movie:a,variant:e="default",index:c,onRemove:r})=>{const o=k(),d=l.useCallback(()=>{o(`/movie/${a.id}`)},[o,a.id]),m=l.useCallback(s=>{const i=s.currentTarget;i.src=n,i.onerror=null},[]),u=l.useCallback(s=>{s.stopPropagation(),r&&r()},[r]),b=l.useMemo(()=>a.posterUrl||a.backdropUrl||n,[a.posterUrl,a.backdropUrl]);return t.jsxs("div",{className:`movie-card movie-card--${e}`,onClick:d,tabIndex:0,role:"button","aria-label":`Перейти к фильму ${a.title}`,children:[e==="top"&&typeof c=="number"&&t.jsx("div",{className:"movie-card__index",children:c+1}),t.jsx("img",{className:"movie-card__image",src:b,alt:`Постер фильма "${a.title}"`,onError:m,loading:"lazy",decoding:"async"}),r&&t.jsx("button",{type:"button",className:"movie-card__remove-btn","aria-label":`Удалить фильм "${a.title}" из избранного`,onClick:u,children:t.jsx("img",{src:x,alt:"Кнопка удаления фильма"})})]})},C);export{v as M};
